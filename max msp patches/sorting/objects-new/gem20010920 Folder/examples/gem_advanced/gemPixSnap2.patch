max v2;#N vpatcher 249 46 800 579;#P newex 0 305 42 9 gem.gemwin;#P newex 82 382 42 9 gem.gemhead;#P message 71 167 36 9 create;#P message 72 196 42 9 destroy;#P newex 82 486 90 9 gem.model venus.obj;#P comment 107 22 248 9 snap a portion of the graphics window into a texture;#P message 44 277 78 9 dimen 256 256;#P newex 381 351 66 9 gem.pix_texture;#P newex 381 460 54 9 gem.rotateXYZ;#P flonum 442 425 36 9 0 0 0 3;#P message 321 336 24 9 snap;#P message 128 347 13 9 0;#P newex 381 242 84 9 gem.render_trigger;#P newex 277 279 42 9 oneshot;#P newex 381 315 120 9 gem.pix_snap 0 0 256 256;#P newex 381 205 60 9 gem.gemhead 60;#P newex 44 248 48 9 loadbang;#P newex 381 492 48 9 gem.square 3;#P message 26 114 66 9 \; render 1;#P message 24 70 66 9 \; render 0;#P newex 0 167 48 9 r render;#P newex 162 346 48 9 r render;#P newex 277 308 30 9 t b b;#P newex 277 183 48 9 r render;#P message 277 246 30 9 clear;#P newex 277 215 30 9 sel 1;#P newex 215 386 42 9 gem.gemhead;#P newex 215 496 90 9 gem.model venus.obj;#P newex 215 458 66 9 gem.color 1 0 0;#P newex 82 455 66 9 gem.color 0 1 0;#P newex 216 418 108 9 gem.translateXYZ 1 0 1;#P newex 81 416 114 9 gem.translateXYZ -1 0 1;#P comment 351 141 166 9 notice that we use render_trigger to make sure that we snap before the square is drawn;#P comment 118 62 212 9 you may need to turn rendering off \, then on to get the snap to work right. This is because the first time rendering is turned on \, we might have garbage in the frame buffer;#P comment 118 121 170 9 rotate the square to see the texture;#P connect 14 0 34 0;#P connect 28 0 34 0;#P connect 31 0 34 0;#P connect 32 0 34 0;#P connect 18 0 28 0;#P connect 33 0 3 0;#P connect 23 0 33 0;#P connect 13 0 33 0;#P connect 3 0 5 0;#P connect 5 0 30 0;#P connect 12 0 23 0;#P connect 23 0 8 0;#P connect 13 0 8 0;#P connect 4 0 6 0;#P connect 6 0 7 0;#P connect 8 0 4 0;#P connect 11 0 9 0;#P connect 9 0 10 0;#P connect 10 0 21 0;#P connect 22 1 21 0;#P connect 21 0 12 0;#P connect 12 1 24 0;#P connect 19 0 22 0;#P connect 22 0 20 0;#P connect 24 0 20 0;#P connect 20 0 27 0;#P connect 27 0 26 0;#P connect 26 0 17 0;#P connect 25 0 26 2;#P pop;