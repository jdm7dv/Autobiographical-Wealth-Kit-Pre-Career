AiffPlayer©1995-98 Eric L. Singereric@ericsinger.comAiffPlayer plays AIFF-format sound files directly from a hard drive using the Sound Manager. It allows large files to be played back without loading them entirely into memory at once.Using AiffPlayerBegin by creating an AiffPlayer object box with the appropriate initialization arguments. Use 'open <filename>' messages to open all files which will be played (open files are stored in an internal file list). Then, use 'play <filename>' and other messages to control playback of the files.Sound files must be created or recorded using a digital audio program and stored in either AIFF or AIFF-C format. Programs such as Sound Designer, Sound Edit or SoundHack can be used to save files in or convert files to these formats.You can use AiffPlayer to play files through Digidesign hardware such as an Audiomedia card. You will need recent versions of the Digidesign INIT's as well as Sound Manager 3.0 and QuickTime. The Digidesign card is selectable in the output section of the Sound control panel.About The Sound ManagerThe Sound Manager is part of Mac system software version 6.0.7 and later. For best performance, including 16-bit stereo 44.1k playback capability, use Sound Manager version 3.0 or later if possible (Sound Manager 3.0 is not available on the Classic, Plus or SE).To find out if you have Sound Manager 3.0, check the version of the Sound control panel, which will be version 8.0 or later. To set sound output options, open the Sound control panel.ArgumentsThe first argument is the number of voices. This is the maximum number of files which can be played back simultaneously. The default is 4 voices. AiffPlayer allocates playback voices automatically and dynamically up to the maximum specified.The second argument is the sound output mode. The default is stereo. Legal values are as follows:'s' or 'stereo': sound is played back in stereo out both outputs'm' or 'mono': sound is played back in mono out both outputs'l' or 'left': sound is played back out the left output only'r' or 'right': sound is played back out the right output onlyThe third argument is the playback buffer size in K (kilobytes). The default  is 256K. This is the amount of memory used to buffer playback for each file being played. If it is set too low, AiffPlayer will report a 'buffer size too small' error. (A fourth argument existed in versions prior to 1.5 and is no longer used.)Entering a 0 for any numeric argument leaves it at its default value.Notes on messages and operationThe 'path' message lets you set the folder where AiffPlayer will look for sound files.  A valid path begins with the volume name (i.e. hard drive name), followed by a colon (:), followed by the folder name or names separated by colons, and ending with a colon.  For example, if sound files are located in a folder called Loud Noises, which is in a folder called Sound Effects, on a hard drive called HardDrive, the path setting is 'path ÔHardDrive:Sound Effects:Loud Noises:Õ'.  (The curly quotes are needed because of the spaces in the folder names.)Closing files is usually not necessary (it is done automatically when the object is deleted or the patch is closed). It can be used if you need to open the file in another application. It must then be reopened to be able to play. Closing files may be necessary if you hit the maximum number of open files allowed by the Macintosh.'level <filename>' sets the playback level for a particular file. 'vol' sets the overall playback volume. These two values are used together to compute the playback volume for a sound file. Both may be changed during playback.When looping is enabled for a file, the file will keep looping until a 'stop' or 'stop <filename>' message is received.When clipping times are set for a file, it will be played back from the start to the end time, specified in milliseconds.Looping and clipping can be used together to cause a file to loop between its start and end times.  Note that looping simply restarts playback of a file when it ends, so tight, sample accurate looping can not be expected.When retriggering is enabled, a 'play <filename>' message will restart playback from the beginning if <filename> is currently playing or paused.  When retriggering is disabled, 'play <filename>' messages are ignored if <filename> is currently playing.Disabling verbose message reporting cuts down on the number of messages and non-critical errors (such as 'no more voices') which AiffPlayer reports.'fileinfo' reports the number of channels, length in number of samples (frames), bits per sample and sampling rate.'markers' lists markers placed in the file (usually done with a digital editing program).  Each marker is reported in a four-element list containing the marker number, location in samples, location in milliseconds and marker name.'cpuload' reports three values. 'totalvoices' is the number of voices allocated by all programs using the Sound Manager. 'voicecpu' is the % of CPU resources used by one playing voice of this object. 'totalcpu' is the % of CPU resources allocated to all objects using the Sound Manager.  Experience has shown that these CPU resource values are not particularly meaningful.The actual number of files which can be played simultaneously depends on many factors, including the speed of the Mac; the speed of the hard drive; the sampling rates, resolution, and number of channels (mono or stereo) of the sound files; how much other processing is occurring, etc.Problems have been reported playing back files from just the left or right channel.  A workaround is to use stereo files with one of the channels blank.Changes in version 1.2- renamed object from 'AiffPlay' to 'AiffPlayer'- no more "single mode" operation- changed argument order for 'vol' and 'loop' messages- 'selmode', 'start' and 'end' incorporated into 'clip'- 'restart' renamed to 'retrig'- 'vol' applies to overall volume, not a particular file-  added 'level' (similar to previous 'vol') to set volume of a particular file- 'close' with no file name replaces 'closeall'- 'stop' with no file name replaces 'stopall'- added 'pause' with no file name to pause all files- added 'unpause' command- added 'fileinfo' for reading AIFF file information- added 'markers' for reading AIFF marker information- added 'verbose' for turning off extraneous message reporting- removed 'symbol' before file names going out left outletChanges in version 1.5- made object Fat (PPC-native)- added 'pan' message to pan sounds- added 'path' message to set search path for sound files- eliminated the max files argument; set internal limit to 512- fixed a problem where closing a file didn't decrement open file count