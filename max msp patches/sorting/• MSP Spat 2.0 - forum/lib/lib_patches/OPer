max v2;#N vpatcher -918 -447 -818 -347;#P hidden newex 442 206 47 1376266 prepend reverb;#P hidden newex 382 206 47 1376266 prepend cluster;#P hidden newex 322 206 47 1376266 prepend early;#P hidden newex 262 206 47 1376266 prepend room;#P hidden newex 202 206 47 1376266 prepend direct;#P hidden inlet 82 147 15 0;#P hidden comment 44 147 35 1376266 data;#P hidden comment 390 74 43 1376266 cluster;#P hidden comment 451 73 43 1376266 reverb;#P hidden comment 330 74 37 1376266 early;#P hidden comment 271 74 37 1376266 room;#P hidden comment 210 74 37 1376266 direct;#N vpatcher 300 474 759 600;#P outlet 36 87 15 0;#P outlet 400 86 15 0;#P inlet 339 50 15 0;#P outlet 339 85 15 0;#P outlet 279 85 15 0;#P outlet 221 86 15 0;#P outlet 165 86 15 0;#P outlet 99 86 15 0;#P inlet 400 50 15 0;#P inlet 279 50 15 0;#P inlet 221 51 15 0;#P inlet 165 52 15 0;#P comment 158 28 37 196618 direct;#P comment 216 28 37 196618 room;#P comment 273 28 37 196618 early;#P comment 331 28 43 196618 cluster;#P comment 393 28 43 196618 reverb;#P inlet 99 49 15 0;#P comment 92 25 37 196618 dsp;#P inlet 34 47 15 0;#P comment 27 23 37 196618 data;#P connect 3 0 13 0;#P connect 9 0 14 0;#P connect 10 0 15 0;#P connect 11 0 16 0;#P connect 18 0 17 0;#P connect 12 0 19 0;#P pop;#P hidden newobj 82 174 370 1376266 patcher context;#N vpatcher 156 429 783 600;#P comment 15 126 81 1376266 fwd source or dsp messages;#P comment 189 25 41 1376266 room;#P inlet 198 43 15 0;#P inlet 117 42 15 0;#P comment 108 21 41 1376266 direct;#P inlet 36 41 15 0;#P outlet 36 104 15 0;#P comment 107 126 41 1376266 direct;#P outlet 117 104 15 0;#P comment 189 126 41 1376266 room;#P outlet 198 105 15 0;#P newex 360 40 90 1376266 r $0-speedlim;#P newex 380 70 128 1376266 route fl fh;#N vpatcher 100 517 477 780;#P inlet 109 20 15 0;#P inlet 31 21 15 0;#P newex 31 69 88 9 bop / 177. 5657.;#P newex 31 115 43 9 change;#P newex 31 139 50 9 sel 0 1;#P message 31 163 22 9 OK;#P newex 31 187 60 9 print OPer;#P message 51 163 89 9 fl and fh too close;#P comment 102 120 66 196617 print warning if fl and fh too close;#P newex 31 92 43 9 > 0.032;#P message 192 57 73 9 direct fl \$1 \, room fl \$1 \, early fl \$1 \, cluster fl \$1 \, reverb fl \$1 \, channel 1 fl \$1 \, channel 2 fl \$1 \, channel 3 fl \$1 \, channel 4 fl \$1 \, channel 5 fl \$1 \, channel 6 fl \$1 \, channel 7 fl \$1 \, channel 8 fl \$1;#P message 270 57 76 9 direct fh \$1 \, room fh \$1 \, early fh \$1 \, cluster fh \$1 \, reverb fh \$1 \, channel 1 fh \$1 \, channel 2 fh \$1 \, channel 3 fh \$1 \, channel 4 fh \$1 \, channel 5 fh \$1 \, channel 6 fh \$1 \, channel 7 fh \$1 \, channel 8 fh \$1;#P newex 192 226 65 9 s $0-dsp;#P connect 11 0 10 0;#P connect 10 0 3 0;#P connect 3 0 9 0;#P connect 9 0 8 0;#P connect 8 0 7 0;#P connect 7 0 6 0;#P connect 5 0 6 0;#P connect 8 1 5 0;#P connect 12 0 10 1;#P connect 11 0 2 0;#P connect 1 0 0 0;#P connect 2 0 0 0;#P connect 12 0 1 0;#P pop;#P newobj 380 96 69 1376266 patcher xover_freq;#P newex 36 70 334 1376266 radiation;#P newex 279 135 85 1376266 s $0-to_GUI;#P newex 498 135 77 1376266 s $0-dsp;#P comment 512 116 87 1376266 other: dsp params;#P connect 12 0 3 0;#P connect 3 0 11 0;#P connect 14 0 3 1;#P connect 3 1 9 0;#P connect 15 0 3 2;#P connect 3 2 7 0;#P connect 3 3 2 0;#P connect 6 0 3 4;#P connect 3 4 5 0;#P connect 5 0 4 0;#P connect 5 1 4 1;#P connect 5 2 1 0;#P pop;#P hidden newobj 142 137 130 1376266 patcher radiation;#N vpatcher 27 315 789 544;#P newex 578 82 64 1376266 clip 0.1 10.;#P newex 442 82 64 1376266 clip 0.1 10.;#P newex 666 54 59 1376266 bangbang;#P newex 666 102 71 1376266 print OPer;#P message 666 79 71 1376266 wrong syntax;#P newex 374 35 282 1376266 route Desh Drth Desl Drtl;#N vpatcher 300 450 437 600;#P outlet 32 101 15 0;#P inlet 32 24 15 0;#P newex 32 73 76 9 r $0-to_Es;#P newex 32 47 76 9 s $0-from_Es;#P connect 2 0 0 0;#P connect 1 0 3 0;#P pop;#P newobj 63 62 60 1376266 patcher Es;#P newex 72 92 290 1376266 timecrit;#P newex 72 35 290 1376266 route Es Rt Rev Edt Rd1;#P inlet 34 20 15 0;#P message 374 123 39 1376266 Gh \$1;#P message 510 122 37 1376266 Gl \$1;#P newex 352 66 72 1376266 r $0-speedlim;#P outlet 127 140 15 0;#P outlet 44 140 15 0;#P outlet 79 164 16 0;#P comment 72 190 37 1376266 room;#P outlet 240 163 15 0;#P comment 230 191 43 1376266 reverb;#P comment 175 193 43 1376266 cluster;#P message 296 146 38 1376266 tr0 \$1;#P message 442 146 36 1376266 trh \$1;#P comment 121 191 37 1376266 early;#P comment 20 189 37 1376266 direct;#P outlet 184 163 15 0;#P message 578 146 34 1376266 trl \$1;#P newex 352 175 71 1376266 s $0-to_GUI;#P connect 19 0 12 0;#P connect 15 0 12 0;#P connect 16 0 12 0;#P connect 18 0 20 0;#P connect 17 0 18 0;#P connect 18 0 19 0;#P connect 20 0 19 0;#P connect 19 1 13 0;#P connect 15 0 13 0;#P connect 16 0 13 0;#P connect 18 1 19 1;#P connect 18 2 19 2;#P connect 19 2 2 0;#P connect 18 3 19 3;#P connect 19 3 9 0;#P connect 1 0 9 0;#P connect 5 0 9 0;#P connect 6 0 9 0;#P connect 18 4 19 4;#P connect 19 4 6 0;#P connect 14 0 19 5;#P connect 19 5 0 0;#P connect 18 5 21 0;#P connect 21 0 16 0;#P connect 21 1 25 0;#P connect 25 0 5 0;#P connect 21 2 15 0;#P connect 21 3 26 0;#P connect 26 0 1 0;#P connect 21 4 24 0;#P connect 24 0 22 0;#P connect 22 0 23 0;#P pop;#P hidden newobj 202 52 250 1376266 patcher crit;#P hidden comment 36 74 42 1376266 source;#P hidden comment 22 20 24 1376266 crit;#P hidden inlet 25 36 15 0;#P hidden inlet 45 91 15 0;#P hidden newex 99 210 65 1376266 r $0-dsp;#P hidden outlet 99 237 15 0;#P hidden comment 97 255 86 1376266 dsp parameters;#P hidden outlet 518 238 15 0;#P hidden newex 518 205 71 1376266 r $0-to_GUI;#P hidden comment 536 238 66 1376266 update GUI;#N vpatcher 20 46 526 586;#N vpatcher 97 183 378 473;#P comment 151 250 50 1376265 dsp;#P outlet 132 251 15 0;#P newex 43 232 70 1376265 prepend Az;#P newex 43 203 72 1376265 pack 0 0. 0;#P newex 43 147 29 1376265 0;#P newex 43 168 71 1376265 speedlim2 30;#P newex 52 95 32 1376265 t b f;#P newex 86 95 29 1376265 t b i;#P inlet 4 21 15 0;#P newex 43 37 92 1376265 route Az Dist El;#P comment 5 107 32 1376265 Dist;#P outlet 18 86 15 0;#P outlet 124 62 15 0;#P newex 156 150 105 1376265 r $0-speedlim_Az;#P newex 43 62 73 1376265 unpack 0 0. 0;#P connect 0 1 3 0;#P connect 5 1 3 0;#P connect 6 0 5 0;#P connect 5 0 0 0;#P connect 0 0 10 0;#P connect 7 0 10 0;#P connect 8 0 10 0;#P connect 10 0 9 0;#P connect 9 0 11 0;#P connect 11 0 12 0;#P connect 5 1 8 0;#P connect 0 1 11 1;#P connect 8 1 11 1;#P connect 5 2 7 0;#P connect 1 0 9 1;#P connect 0 2 11 2;#P connect 7 1 11 2;#P connect 5 3 2 0;#P connect 12 0 13 0;#P pop;#P newobj 21 37 66 1376265 patcher Az;#P newex 21 124 54 1376265 clip 1. 100.;#P newex 21 102 35 1376265 * 0.01;#P newex 143 229 36 1376265 0.;#P newex 143 208 27 1376265 gate;#P newex 169 183 24 1376265 * 3.;#P newex 21 82 26 1376265 abs;#P newex 21 62 33 1376265 * 100.;#P message 143 251 47 1376265 delay \$1;#P newex 95 64 63 1376265 clip 0.2 100.;#P message 200 251 33 1376265 air \$1;#P newex 21 145 46 1376265 t f f b f;#P newex 95 42 154 1376265 route radius Dopp drop;#P inlet 21 13 15 0;#P message 95 109 63 1376265 set \$1 100.;#P newex 95 88 131 1376265 t f f;#P newex 9 313 27 1376265 == 1;#P newex 9 332 26 1376265 gate;#P newex 39 332 26 1376265 gate;#P newex 39 354 26 1376265 - 0.;#P newex 9 355 22 1376265 / 1.;#P newex 200 163 26 1376265 - 1.;#P newex 77 266 73 1376265 s $0-dsp;#P newex 120 428 19 1376265 t f;#P newex 9 504 84 1376265 s $0-to_GUI;#P message 9 484 48 1376265 crit Es \$1;#P newex 9 463 69 1376265 s $0-to_Es;#P newex 9 438 66 1376265 clip -999. 0.;#P newex 88 391 19 1376265 t f;#P newex 251 354 19 1376265 t f;#P newex 88 349 76 1376265 r $0-from_Es;#P newex 9 374 169 1376265 expr $f2-($f3*log10($f1)/0.3);#P comment 258 87 128 1376265 forward 'source' messages;#P outlet 239 87 15 0;#P newex 235 241 50 1376265 loadbang;#P comment 292 111 185 1376265 -- 'Dist' method \; forward Dist \; Dist = abs(Dist) \; clip Dist to [ radius \, 100. ] \; update air = Dist-radius \; if Dopp enabled \, delay = 3*(Dist-radius) \; if "drop log" update Es = Es_ - drop*log2(Dist/Dist_) \; if "drop linear" update Es = Es_ - drop*0.1*(Dist-Dist_) \; set Dist_ = Dist \; set Es_ = Es \; \; -- 'Es' method (receive) \; set Es_ = Es \; \; -- 'Dopp' method \; enable or disable (toggle) \; \; -- 'drop' method \; set drop \; \; -- 'radius' method \; clip it to [ 0.2 \, 100. ] and then set it \; \; -- DEFAULT VALUES \; Dopp disabled \; radius = 1 \; drop = 0. \; Dist_ = 1. \; Es_ = 0.;#P newex 39 313 27 1376265 != 1;#P newex 39 411 169 1376265 expr $f2-($f3*$f1*0.1);#P message 191 297 12 1376265 1;#P message 217 297 12 1376265 0;#P newex 191 379 59 1376265 s $0-to_GUI;#P message 191 315 79 1376265 source drop log2;#P newex 191 277 71 1376265 route log2 linear;#P message 217 332 56 1376265 source drop linear;#P message 235 261 26 1376265 log2;#P connect 5 0 28 0;#P connect 6 0 28 0;#P connect 28 0 27 0;#P connect 27 0 24 0;#P connect 24 0 13 0;#P connect 7 0 17 0;#P connect 13 0 17 0;#P connect 17 0 18 0;#P connect 17 0 19 0;#P connect 19 0 20 0;#P connect 31 0 44 0;#P connect 44 0 37 0;#P connect 37 0 38 0;#P connect 38 0 42 0;#P connect 42 0 43 0;#P connect 30 0 43 0;#P connect 43 0 33 0;#P connect 33 0 24 1;#P connect 33 1 27 1;#P connect 5 0 8 0;#P connect 6 0 8 0;#P connect 8 0 26 0;#P connect 26 0 25 0;#P connect 25 0 7 0;#P connect 33 1 26 1;#P connect 33 0 25 1;#P connect 44 2 22 0;#P connect 34 0 22 0;#P connect 36 0 22 0;#P connect 14 0 13 1;#P connect 16 0 13 1;#P connect 13 0 16 0;#P connect 44 1 32 0;#P connect 32 0 35 0;#P connect 35 0 29 0;#P connect 29 0 30 0;#P connect 14 0 7 1;#P connect 21 0 7 1;#P connect 7 0 21 0;#P connect 32 1 40 0;#P connect 40 0 41 0;#P connect 41 0 36 0;#P connect 33 2 40 1;#P connect 15 0 13 2;#P connect 23 0 39 0;#P connect 39 0 41 1;#P connect 32 2 2 0;#P connect 0 0 2 0;#P connect 2 0 6 0;#P connect 6 0 3 0;#P connect 1 0 4 0;#P connect 3 0 4 0;#P connect 15 0 7 2;#P connect 33 3 23 0;#P connect 23 0 34 0;#P connect 29 1 23 1;#P connect 2 1 5 0;#P connect 5 0 1 0;#P connect 10 0 0 0;#P connect 32 3 11 0;#P connect 2 2 15 0;#P pop;#P hidden newobj 142 107 101 1376266 patcher localization;#P hidden inlet 518 29 15 0;#P hidden comment 535 29 70 1376266 speedlimiting time;#P hidden newex 518 65 49 1376266 unpack;#P hidden newex 518 137 90 1376266 s $0-speedlim_Az;#P hidden newex 518 115 90 1376266 s $0-speedlim;#P hidden number 557 92 35 10 0 0 0 21;#P hidden number 518 92 35 10 0 0 0 21;#P hidden connect 27 0 20 0;#P hidden connect 13 0 12 0;#P hidden connect 31 0 12 0;#P hidden connect 30 0 12 0;#P hidden connect 20 1 12 0;#P hidden connect 29 0 12 0;#P hidden connect 28 0 12 0;#P hidden connect 32 0 12 0;#P hidden connect 14 0 7 0;#P hidden connect 7 0 19 0;#P hidden connect 19 0 20 1;#P hidden connect 15 0 18 0;#P hidden connect 18 0 19 1;#P hidden connect 19 1 20 2;#P hidden connect 20 2 28 0;#P hidden connect 18 1 19 2;#P hidden connect 19 2 20 3;#P hidden connect 20 3 29 0;#P hidden connect 18 2 20 4;#P hidden connect 20 4 30 0;#P hidden connect 18 3 20 5;#P hidden connect 20 5 31 0;#P hidden connect 18 4 20 6;#P hidden connect 20 6 32 0;#P hidden connect 6 0 4 0;#P hidden connect 4 0 0 0;#P hidden connect 0 0 2 0;#P hidden connect 1 0 3 0;#P hidden connect 9 0 10 0;#P hidden connect 4 1 1 0;#P pop;