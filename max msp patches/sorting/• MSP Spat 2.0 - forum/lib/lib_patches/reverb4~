max v2;#N vpatcher -20 -20 -10 -10;#P hidden newex 42 89 238 9 delfback1~ $0-del2 $2;#P hidden newex 63 109 238 9 delfback1~ $0-del3 $2;#P hidden newex 84 129 238 9 delfback1~ $0-del4 $2;#P hidden newex 21 69 238 9 delfback1~ $0-del1 $2;#P hidden inlet 21 20 15 0;#P hidden inlet 42 20 15 0;#P hidden inlet 63 20 15 0;#P hidden inlet 84 20 15 0;#P hidden newex 21 162 73 9 shuffle4~;#P hidden newex 84 260 123 9 delwrite~ $0-del4 $1;#P hidden newex 63 239 123 9 delwrite~ $0-del3 $1;#P hidden newex 42 218 126 9 delwrite~ $0-del2 $1;#P hidden newex 21 197 123 9 delwrite~ $0-del1 $1;#P hidden outlet 156 166 15 0;#P hidden outlet 135 166 15 0;#P hidden outlet 177 166 15 0;#P hidden outlet 198 166 15 0;#P hidden newex 198 35 25 9 sig~;#N vpatcher -20 -20 -10 -10;#P hidden newex 20 180 35 9 pack 1. 1. 1. 1. 1. 0.;#P hidden newex 56 180 35 9 pack 1. 1. 1. 1. 1. 0.;#P hidden newex 92 180 35 9 pack 1. 1. 1. 1. 1. 0.;#P hidden newex 128 180 35 9 pack 1. 1. 1. 1. 1. 0.;#P hidden outlet 128 247 15 0;#P hidden outlet 91 247 15 0;#P hidden outlet 56 247 15 0;#P hidden outlet 20 247 15 0;#P hidden newex 46 54 66 9 r $0-tr0;#N vpatcher -20 -20 -10 -10;#P hidden inlet 56 30 15 0;#P hidden comment 23 37 41 196617 tr0 (global reverb time control);#P hidden newex 474 309 48 9 print reverb4~;#P hidden newex 418 309 48 9 print reverb4~;#P hidden outlet 435 374 15 0;#P hidden comment 239 330 168 196618 K = sum { pow(k \, delay(i) } for all i;#P hidden newex 56 267 119 9 expr pow(10 \\\, -0.006/$f1);#P hidden comment 57 287 110 196618 k = pow(10 \, -6 / Tr0);#P hidden newex 253 182 118 9 unpack 0. 0. 0. 0.;#P hidden newex 217 285 154 9 expr pow($f1\\\,$f2)+pow($f1\\\,$f3) +pow($f1\\\,$f4)+pow($f1\\\,$f5);#P hidden newex 361 220 32 9 clip 0. $1;#P hidden newex 325 220 32 9 clip 0. $1;#P hidden newex 289 220 32 9 clip 0. $1;#P hidden outlet 335 261 15 0;#P hidden outlet 371 261 15 0;#P hidden outlet 299 261 15 0;#P hidden outlet 263 261 15 0;#P hidden newex 253 220 32 9 clip 0. $1;#P hidden newex 217 202 25 9 t b f;#P hidden newex 418 242 48 9 sel 1;#P hidden newex 474 242 48 9 sel 1;#P hidden newex 418 221 48 9 change;#P hidden newex 474 221 48 9 change;#P hidden newex 474 200 36 9 < 0.;#P hidden newex 500 138 59 9 samplerate~;#P hidden message 500 159 59 9 64000. \$1;#P hidden newex 500 178 59 9 / 44100.;#P hidden newex 500 93 40 9 r dsp-is-starting;#P hidden newex 418 200 36 9 > $1;#P hidden message 418 264 48 9 delay length(s) too long;#P hidden message 474 264 48 9 delay length(s) too small;#P hidden message 78 108 52 9 51.129997 98.07;#P hidden newex 78 87 26 9 t b b;#P hidden newex 110 143 106 9 delgen;#P hidden comment 91 183 86 196617 delay lengths (list);#P hidden inlet 91 167 15 0;#P hidden newex 238 74 154 9 route 1 2 3 4;#P hidden newex 217 117 18 9 t b;#P hidden newex 346 99 25 9 t b f;#P hidden newex 274 99 25 9 t b f;#P hidden newex 310 99 25 9 t b f;#P hidden newex 238 99 25 9 t b f;#P hidden newex 418 117 25 9 t f;#P hidden newex 158 76 26 9 t b f;#P hidden message 174 107 21 9 0.5;#P hidden newex 78 41 170 9 route bang minmax minsum distr count;#P hidden comment 94 15 244 196617 <-- delay lengths (individually or distribution parameters);#P hidden inlet 78 15 15 0;#P hidden newex 217 356 104 9 expr sqrt(($f2/$f1)-1);#P hidden comment 321 357 103 196618 g0 = sqrt( (N/K) -1);#P hidden newex 206 336 15 9 t i;#P hidden newex 110 70 42 9 unpack 0. 0.;#P hidden comment 451 374 92 196617 reverb input gain to scale level to 0 dB;#P hidden connect 52 0 46 0;#P hidden connect 5 0 7 0;#P hidden connect 7 0 20 0;#P hidden connect 20 0 21 0;#P hidden connect 7 2 1 0;#P hidden connect 1 0 19 0;#P hidden connect 21 0 19 0;#P hidden connect 9 0 19 0;#P hidden connect 7 1 19 0;#P hidden connect 1 1 19 1;#P hidden connect 7 3 9 0;#P hidden connect 20 1 8 0;#P hidden connect 8 0 19 2;#P hidden connect 9 1 19 2;#P hidden connect 7 4 19 3;#P hidden connect 19 3 2 0;#P hidden connect 13 0 15 0;#P hidden connect 12 0 15 0;#P hidden connect 14 0 15 0;#P hidden connect 11 0 15 0;#P hidden connect 44 0 34 0;#P hidden connect 46 0 43 0;#P hidden connect 15 0 43 0;#P hidden connect 34 0 43 0;#P hidden connect 43 0 4 0;#P hidden connect 7 5 16 0;#P hidden connect 16 0 11 0;#P hidden connect 19 0 44 0;#P hidden connect 17 0 44 0;#P hidden connect 11 1 35 0;#P hidden connect 34 1 35 0;#P hidden connect 35 0 43 1;#P hidden connect 35 0 36 0;#P hidden connect 16 1 13 0;#P hidden connect 44 1 40 0;#P hidden connect 13 1 40 0;#P hidden connect 40 0 43 2;#P hidden connect 40 0 37 0;#P hidden connect 16 2 12 0;#P hidden connect 2 0 4 1;#P hidden connect 44 2 41 0;#P hidden connect 12 1 41 0;#P hidden connect 41 0 43 3;#P hidden connect 41 0 39 0;#P hidden connect 16 3 14 0;#P hidden connect 44 3 42 0;#P hidden connect 14 1 42 0;#P hidden connect 42 0 43 4;#P hidden connect 42 0 38 0;#P hidden connect 11 1 10 0;#P hidden connect 13 1 10 0;#P hidden connect 12 1 10 0;#P hidden connect 14 1 10 0;#P hidden connect 44 2 24 0;#P hidden connect 44 1 24 0;#P hidden connect 44 3 24 0;#P hidden connect 44 0 24 0;#P hidden connect 10 0 24 0;#P hidden connect 24 0 31 0;#P hidden connect 31 0 33 0;#P hidden connect 33 0 23 0;#P hidden connect 23 0 49 0;#P hidden connect 4 0 48 0;#P hidden connect 44 2 29 0;#P hidden connect 44 1 29 0;#P hidden connect 44 3 29 0;#P hidden connect 44 0 29 0;#P hidden connect 10 0 29 0;#P hidden connect 29 0 30 0;#P hidden connect 30 0 32 0;#P hidden connect 32 0 22 0;#P hidden connect 22 0 50 0;#P hidden connect 25 0 28 0;#P hidden connect 28 0 27 0;#P hidden connect 27 0 26 0;#P hidden connect 26 0 29 1;#P pop;#P hidden newobj 46 77 154 9 patcher delays/normalize;#P hidden newex 118 54 68 9 r $0-delay;#P hidden newex 469 110 26 9 t b b;#P hidden message 504 128 86 9 \; $0-enable 0 \; $0-abs 1 \; $0-control tr0 1.;#P hidden message 469 194 121 9 \; $0-enable 1 \; $0-control delay bang \; $0-other fl 250 \, fh 8000;#P hidden message 531 57 29 9 fh \$1;#P hidden message 500 57 29 9 fl \$1;#P hidden newex 500 80 72 9 s $0-other;#P hidden newex 376 31 196 9 route abs delay delays bang fl fh;#P hidden newex 407 80 72 9 s $0-delays;#P hidden comment 316 197 117 196617 There is no 'loadbang' object in this abstraction. Send it a bang to initialize it and get some sound out.;#P hidden message 485 164 13 9 1;#P hidden newex 125 32 74 9 r $0-enable;#P hidden newex 174 100 26 9 gate;#P hidden newex 190 54 67 9 r $0-delays;#P hidden newex 307 79 66 9 s $0-tr0;#P hidden newex 307 56 26 9 t f f;#P hidden newex 277 11 70 9 r $0-control;#P hidden inlet 217 11 15 0;#P hidden newex 217 31 130 9 route trl trm trh tr0;#P hidden newex 351 56 26 9 gate;#P hidden newex 407 56 72 9 s $0-delay;#P hidden newex 351 11 70 9 r $0-abs;#P hidden newex 350 162 18 9 t f;#P hidden newex 375 120 36 9 sel 1 0;#P hidden message 388 144 57 9 100000000.;#P hidden newex 174 229 62 9 r $0-other;#P hidden newex 306 140 26 9 1.;#P hidden newex 128 157 28 9 0.;#P hidden newex 92 157 28 9 0.;#P hidden newex 56 157 28 9 0.;#P hidden newex 20 157 28 9 0.;#P hidden newex 20 123 28 9 del 10;#P hidden newex 56 123 28 9 del 10;#P hidden newex 92 123 28 9 del 10;#P hidden newex 128 123 28 9 del 10;#P hidden comment 19 264 571 196617 output messages are delayed in order to avoid updating all reverb absorbant filters simultaneously. list = [ g0 tr0 trl trm trh delay ];#P hidden newex 246 162 26 9 t i f;#P hidden newex 276 162 26 9 t i f;#P hidden newex 306 162 26 9 t i f;#P hidden newex 216 162 26 9 t i f;#P hidden newex 174 196 86 9 speedlim2 100;#P hidden newex 128 100 28 9 t b;#P hidden newex 174 137 26 9 t i f;#P hidden connect 10 0 11 0;#P hidden connect 11 0 12 0;#P hidden connect 12 0 52 0;#P hidden connect 52 0 45 0;#P hidden connect 17 0 45 0;#P hidden connect 4 1 52 1;#P hidden connect 20 0 52 1;#P hidden connect 3 1 52 2;#P hidden connect 32 0 52 2;#P hidden connect 6 1 52 3;#P hidden connect 32 0 52 3;#P hidden connect 0 1 12 1;#P hidden connect 5 1 52 4;#P hidden connect 32 0 52 4;#P hidden connect 43 0 52 5;#P hidden connect 44 0 43 0;#P hidden connect 9 0 10 0;#P hidden connect 10 0 13 0;#P hidden connect 13 0 51 0;#P hidden connect 51 0 46 0;#P hidden connect 17 0 46 0;#P hidden connect 4 1 51 1;#P hidden connect 20 0 51 1;#P hidden connect 3 1 51 2;#P hidden connect 32 0 51 2;#P hidden connect 6 1 51 3;#P hidden connect 32 0 51 3;#P hidden connect 0 1 13 1;#P hidden connect 5 1 51 4;#P hidden connect 32 0 51 4;#P hidden connect 43 1 51 5;#P hidden connect 50 0 47 0;#P hidden connect 17 0 47 0;#P hidden connect 8 0 9 0;#P hidden connect 9 0 14 0;#P hidden connect 14 0 50 0;#P hidden connect 4 1 50 1;#P hidden connect 20 0 50 1;#P hidden connect 3 1 50 2;#P hidden connect 32 0 50 2;#P hidden connect 6 1 50 3;#P hidden connect 32 0 50 3;#P hidden connect 0 1 14 1;#P hidden connect 5 1 50 4;#P hidden connect 32 0 50 4;#P hidden connect 43 2 50 5;#P hidden connect 42 0 43 1;#P hidden connect 2 0 1 0;#P hidden connect 1 0 8 0;#P hidden connect 8 0 15 0;#P hidden connect 15 0 49 0;#P hidden connect 49 0 48 0;#P hidden connect 17 0 48 0;#P hidden connect 4 1 49 1;#P hidden connect 20 0 49 1;#P hidden connect 3 1 49 2;#P hidden connect 32 0 49 2;#P hidden connect 6 1 49 3;#P hidden connect 32 0 49 3;#P hidden connect 0 1 15 1;#P hidden connect 5 1 49 4;#P hidden connect 32 0 49 4;#P hidden connect 43 3 49 5;#P hidden connect 31 0 30 0;#P hidden connect 30 0 0 0;#P hidden connect 0 0 2 0;#P hidden connect 4 0 2 0;#P hidden connect 5 0 2 0;#P hidden connect 6 0 2 0;#P hidden connect 3 0 2 0;#P hidden connect 29 0 43 2;#P hidden connect 43 4 30 1;#P hidden connect 24 0 3 0;#P hidden connect 25 0 24 0;#P hidden connect 26 0 24 0;#P hidden connect 24 1 6 0;#P hidden connect 24 2 5 0;#P hidden connect 19 0 16 0;#P hidden connect 18 0 4 0;#P hidden connect 16 0 4 0;#P hidden connect 24 3 27 0;#P hidden connect 27 0 28 0;#P hidden connect 27 1 16 1;#P hidden connect 23 0 20 0;#P hidden connect 35 0 23 0;#P hidden connect 21 0 23 0;#P hidden connect 27 1 23 1;#P hidden connect 35 0 19 0;#P hidden connect 24 4 35 0;#P hidden connect 19 1 18 0;#P hidden connect 35 1 22 0;#P hidden connect 35 2 34 0;#P hidden connect 35 3 41 0;#P hidden connect 41 0 39 0;#P hidden connect 41 1 32 0;#P hidden connect 35 4 37 0;#P hidden connect 38 0 36 0;#P hidden connect 37 0 36 0;#P hidden connect 41 1 40 0;#P hidden connect 35 5 38 0;#P pop;#P hidden newobj 249 35 73 9 patcher control;#P hidden inlet 338 18 15 0;#P hidden outlet 338 41 15 0;#P hidden connect 16 0 17 0;#P hidden connect 17 0 12 0;#P hidden connect 12 0 8 0;#P hidden connect 15 0 20 0;#P hidden connect 20 0 12 1;#P hidden connect 12 1 9 0;#P hidden connect 14 0 19 0;#P hidden connect 19 0 12 2;#P hidden connect 12 2 10 0;#P hidden connect 13 0 18 0;#P hidden connect 18 0 12 3;#P hidden connect 12 3 11 0;#P hidden connect 3 0 17 1;#P hidden connect 17 1 6 0;#P hidden connect 3 0 20 1;#P hidden connect 20 1 7 0;#P hidden connect 3 0 19 1;#P hidden connect 19 1 5 0;#P hidden connect 13 0 3 0;#P hidden connect 14 0 3 0;#P hidden connect 15 0 3 0;#P hidden connect 16 0 3 0;#P hidden connect 3 0 18 1;#P hidden connect 18 1 4 0;#P hidden connect 1 0 2 0;#P hidden connect 2 0 17 2;#P hidden connect 2 1 20 2;#P hidden connect 2 2 19 2;#P hidden connect 2 3 18 2;#P hidden connect 1 0 0 0;#P pop;