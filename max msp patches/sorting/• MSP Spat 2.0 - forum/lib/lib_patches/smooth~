max v2;#N vpatcher -20 -20 -10 -10;#P hidden newex 81 71 28 9 loadbang;#P hidden inlet 59 79 16 0;#P hidden newex 59 103 50 9 route int bang;#P hidden inlet 26 105 16 0;#P hidden message 59 225 84 9 set 1. 0. 0. 1. 0. 0.;#P hidden newex 59 160 38 9 route 0;#P hidden comment 242 258 180 196618 where a = 10^(-1/(Tau*samplerate)) Tau = time constant of filter (default 150 ms \, defined as time it takes for 90% of the desired variation.);#P hidden newex 158 178 188 9 expr pow(10 \\\, -1/ ($f1*$f2*0.001) );#P hidden newex 26 275 208 9 2p2z~ 1. 0.999652 0. 0.000348 0. 0.;#P hidden newex 158 225 26 9 1.;#P hidden newex 158 247 43 9 - 1.;#P hidden newex 158 203 43 9 t b f;#P hidden outlet 26 306 15 0;#P hidden newex 26 194 32 9 line~;#P hidden comment 211 203 187 196618 Transfer function of 1rst order filter:;#P hidden comment 284 218 59 196618 1 - a;#P hidden comment 276 238 62 196618 1 - a z^-1;#P hidden comment 243 228 117 196618 h(z) = ----------------;#P hidden comment 17 6 84 196626 smooth~;#P hidden comment 142 7 269 196618 combines line~ with a 1rst order lowpass filter to avoid sudden changes of the variation speed of the output (example application: avoids sudden changes of pitch when used with vd~ to produce Doppler effect);#P hidden comment 144 75 271 196618 right inlet = time constant in ms (default 150 ms \, can be chosen identical to the time constant of line~);#P hidden comment 144 62 270 196618 left inlet = new destination value or order forcing signal;#P hidden newex 336 112 80 9 r dsp-is-starting;#P hidden newex 336 134 59 9 samplerate~;#P hidden newex 336 156 38 9 44100;#P hidden button 79 138 18 0;#P hidden newex 59 138 18 9 0;#P hidden newex 143 117 49 9 Spat-x.x;#P hidden connect 24 0 14 0;#P hidden connect 23 0 19 0;#P hidden connect 14 0 19 0;#P hidden connect 19 0 15 0;#P hidden connect 27 0 25 0;#P hidden connect 26 0 25 0;#P hidden connect 25 0 1 0;#P hidden connect 1 0 22 0;#P hidden connect 22 0 23 0;#P hidden connect 25 1 2 0;#P hidden connect 16 1 19 2;#P hidden connect 22 1 20 0;#P hidden connect 20 0 16 0;#P hidden connect 16 0 18 0;#P hidden connect 18 0 17 0;#P hidden connect 17 0 19 4;#P hidden connect 16 1 17 1;#P hidden connect 5 0 4 0;#P hidden connect 2 0 3 0;#P hidden connect 4 0 3 0;#P hidden connect 3 0 20 1;#P pop;