max v2;#N vpatcher -881 -414 -781 -314;#P hidden comment 19 35 78 196618 Az (Dist (El));#P hidden inlet 21 52 15 0;#P hidden inlet 92 82 15 0;#P hidden comment 109 82 43 196618 corners;#P hidden inlet 57 58 15 0;#P hidden comment 75 58 29 196618 Dist;#P hidden newex 204 130 28 9 < 0.;#P hidden newex 204 152 28 9 t i i;#P hidden newex 204 108 69 9 t f f;#P hidden newex 170 152 29 9 * 180;#P hidden comment 104 134 59 196617 if dist < 0 \, az = az+180;#P hidden comment 129 21 151 196618 convert polar coordinates to (X \, Y) controls of a quad panpot \, taking loudspeaker angles (corners) into account.;#P hidden newex 21 89 46 9 pan-;#P hidden newex 21 171 31 9 + 0;#P hidden newex 21 219 113 9 t i i;#P hidden newex 21 415 211 9 * 1.;#P hidden newex 124 392 108 9 * 1.;#P hidden outlet 21 451 15 0;#P hidden outlet 124 450 15 0;#P hidden comment 21 471 95 196618 X: -1=left \, 1=right;#P hidden comment 125 471 103 196618 Y: 1=front \, -1=back;#P hidden newex 169 315 32 9 / 45.;#P hidden newex 169 337 32 9 - 6.;#P hidden newex 21 314 32 9 / -45.;#P hidden newex 21 336 32 9 + 2.;#P hidden newex 66 314 32 9 / 45.;#P hidden newex 66 336 32 9 - 6.;#P hidden newex 21 291 55 9 split 0 179;#P hidden newex 21 267 42 9 % 360;#P hidden newex 21 243 34 9 + 90;#P hidden newex 124 292 55 9 split 0 179;#P hidden newex 124 337 32 9 + 2.;#P hidden newex 124 315 32 9 / -45.;#P hidden newex 21 366 41 9 clip -1 1;#P hidden newex 124 366 41 9 clip -1 1;#P hidden comment 75 246 47 196617 convert (az \, dist) to (X \, Y);#P hidden newex 222 292 51 9 expr $f2 *(1-$i1*2);#P hidden newex 21 194 81 9 az_convert;#P hidden comment 233 327 45 196617 absolute value of distance;#P hidden newex 92 113 49 9 route list;#P hidden connect 38 0 27 0;#P hidden connect 27 0 26 0;#P hidden connect 26 0 2 0;#P hidden connect 2 0 25 0;#P hidden connect 25 0 10 0;#P hidden connect 10 0 11 0;#P hidden connect 11 0 12 0;#P hidden connect 12 0 16 0;#P hidden connect 16 0 15 0;#P hidden connect 13 0 6 0;#P hidden connect 15 0 6 0;#P hidden connect 6 0 24 0;#P hidden connect 24 0 22 0;#P hidden connect 30 0 26 1;#P hidden connect 35 0 27 1;#P hidden connect 12 1 14 0;#P hidden connect 14 0 13 0;#P hidden connect 37 0 0 0;#P hidden connect 0 0 2 1;#P hidden connect 25 1 9 0;#P hidden connect 9 0 7 0;#P hidden connect 7 0 8 0;#P hidden connect 8 0 5 0;#P hidden connect 17 0 5 0;#P hidden connect 5 0 23 0;#P hidden connect 23 0 21 0;#P hidden connect 9 1 18 0;#P hidden connect 18 0 17 0;#P hidden connect 32 0 30 0;#P hidden connect 27 1 31 0;#P hidden connect 31 0 33 0;#P hidden connect 33 0 32 0;#P hidden connect 32 1 3 0;#P hidden connect 3 0 23 1;#P hidden connect 3 0 24 1;#P hidden connect 31 1 3 1;#P pop;