function [fact] = crit2fact(crit)% crit2fact (EDR-1.5)%% [fact] = crit2fact(crit)%% Computes a set of perceptual factors from a set of energetical% criteria, in order to do a setting for the Spatialisateur% % See also :  EDRanalysis, RI2Spat, Ener2MatSpat, MatSpat2crit,fdensEs = crit(1);Desl = crit(2);Desh = crit(3);Rev = crit(4);Edt = crit(5); Rd1 = crit(6);Rt = crit(7);Drtl = crit(8);Drth  = crit(9);%fact pres bang, %fact warm bang, %fact bril bang, %fact prer bang, %fact revp bang, %fact env bang, %fact rev bang, %fact heav bang, %fact live bang,fact(1) = (crit(1)+40)*3;fact(2) =  (crit(2)+10)*3;fact(3) = (crit(3)+10)*3;fact(4) = (crit(4)+40)*3;if(Edt<0.1)  Edt = 0.1;endif(Edt >10) Edt = 10;endC = 10^(-1.2/Rt);lRev  = PowerExp(Rev);lEs = PowerExp(Es);if ((lRev/lEs) > 2*(1+C)/(1-C))   lR3 = lRev + 2* lEs;else   lR3 = 4*lEs*( sqrt( 0.5*(lRev/lEs)*(1-C)^2 + C^2 ) - C )/((1-C)^2);endX = log10(1+ 2*lEs/lR3);Y = log10(1+ lEs/lR3);if(2*lEs/lR3 <= 30.622)   Edtmin = 0.4 + Rt*(1-0.667*X);   Edtmax =  0.4 + Rt*(1-0.667*Y);else   Edtmin = 0.6/X;   Edtmax =  0.6/Y;end Edt=max(Edt, Edtmin);Edt=min(Edt, Edtmax);fact(5) = 50 * ((log(Edt) - log(Edtmin)) / (log(Edtmax)-log(Edtmin)));if(Rd1 <-30) Rd1 = -30;endif(Rd1 > 0) Rd1 = 0;endif( Edt <= 0.4)      Z = 0.6/Edt;else      Z = 1.5 * (1+(0.4-Edt) / Rt);endlR2 = lR3 * (10^Z - 1) - lEs;Rd1min_lin = (0.05 * (lR2/lEs));Rd1min = PowerLog(Rd1min_lin); Rd1max = PowerLog(Rd1min_lin + 0.27) ; Rd1 = max(Rd1,Rd1min);Rd1 = min(Rd1,Rd1max);fact(6) = 50 * (Rd1-Rd1min)/(Rd1max -Rd1min);fact(7) = (PowerLog(crit(7))+10)*5;fact(8) = (PowerLog(crit(8))+10)*2.5;fact(9) =  (PowerLog(crit(9))+10)*5;