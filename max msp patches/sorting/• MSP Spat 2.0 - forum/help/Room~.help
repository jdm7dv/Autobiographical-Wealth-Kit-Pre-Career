max v2;#N vpatcher 174 294 691 622;#P comment 1 0 13 1376266;#P toggle 17 54 15 0;#P newex 17 77 33 1376265 max;#P comment 15 13 149 1376274 Room~ / Room_;#P comment 173 18 98 1376268 - room simulator;#P toggle 167 179 15 0;#P comment 23 203 15 1376265 C;#P comment 41 203 15 1376265 L;#P comment 59 203 15 1376265 R;#P comment 77 203 22 1376265 S1;#P comment 95 203 22 1376265 S2;#P comment 113 203 22 1376265 S3;#P comment 131 203 22 1376265 S4;#P comment 160 249 96 1376265 < four speakers;#P toggle 143 249 15 0;#P newex 403 16 80 1376268 about Spat...;#N vpatcher 282 102 793 691;#P comment 13 14 322 1376270 Room~ / Room_ : control syntax and parameters;#P comment 14 46 177 1376266 bang ................................... reset.;#P comment 14 323 487 1376266 room offset <float> ............. global offset for room effect in ms (default: 0 \, negative values allowed) \; early start <float> ................ start of 'early' section in ms \; early end <float> .................. end of 'early' section in ms \; cluster start <float> ............. start of 'cluster' section in ms \; cluster end <float> ............... end of 'cluster' section in ms \; reverb start <float> ............. start of 'reverb' section in ms \; reverb fdens <float> ............ reverberation modal density.;#P comment 14 134 386 1376266 early <list> ........................... correction of 'early' section (relative to 'room') \; cluster <list> ........................ correction of 'cluster' section (relative to 'room') \; reverb <float> ..................... power level of 'reverb' section (relative to 'room').;#P comment 14 108 277 1376266 direct <list> ......................... correction of direct sound \; room <list> .......................... correction of room effect.;#P comment 317 92 179 1376265 (energy / spectrum corrections use same syntax as hlshelf1~ / hlshelf1_ except for 'g0' and 'G0');#P comment 14 437 487 1376266 early delay distr <float> ....... 'early' time distribution parameter (0.1 to 0.9 - default: 0.5 - see delgen) \; early delay <int><float> ........ date of <int>th early reflection (overriden by time structure settings) \; early gain <int><float> ......... amplitude gain of <int>th early reflection (default: 1) \; cluster delay distr <float> .... 'cluster' delay distribution parameter (also exists for 'reverb').;#P comment 14 494 471 1376266 NOTE: Modifications in fine distribution parameters are overridden by time structure settings and may conflict with them (e.g. if 'min' and 'max' displayed values are modified or if delay values do not comply with 'min' and 'max' values). Likewise \, the actual energy level of the 'early' section is affected by changes in the amplitudes of the early reflections (unless the average of the squares is kept equal to 1).;#P comment 13 177 78 1376268 Decay time;#P comment 13 304 332 1376268 Time structure of room effect (displayed in 'times' window);#P comment 13 418 411 1376268 Fine distribution in sections (displayed in 'gains' and 'delays' windows);#P comment 13 89 207 1376268 Energy and spectrum corrections;#P comment 14 59 383 1376266 reverb throw <name> ......... name of external catch~ object (reverb send bus).;#P comment 14 72 383 1376266 cluster throw <name> ......... name of external catch~ object (cluster send bus).;#P comment 405 61 63 1376265 see Room~ DSP options;#P comment 14 196 480 1376266 reverb tr0 <int/float>........... global decay time in seconds (default: 1) \; reverb trl <float>................. relative decay time at low frequencies (default: 1) \; reverb trm <float>............... relative decay time at mid frequencies (default: 1) \; reverb trh <float>................ relative decay time at high frequencies (default: 1) \; reverb fl <int/float>.............. low crossover frequency in Hz (default: 250 Hz) \; reverb fh <int/float>............ high crossover frequency in Hz (default: 8 kHz) \; reverb abs 0 ....................... disable absorption (infinite decay time at all frequencies) \; reverb abs 1 ....................... enable absorption (decay time back to latest settings).;#P pop;#P newobj 333 186 150 1376268 patcher control_syntax;#N vpatcher 206 65 672 577;#P comment 22 90 222 1376266 A version of the algorithm is identified by:;#P comment 37 107 269 1376266 The number of internal feedback channels (4 \, 6 or 8).;#P comment 37 124 381 1376266 A letter which refers to the temporal division of the room response in sections:;#P comment 22 297 91 1376266 8a ........... 30 % \; 8b ........... 43 % \; 8c ........... 65 % \; 6a ........... 22 % \; 6b ........... 35 % \; 6c ........... 50 % \; 4a ........... 16 % \; 4b ........... 26 % \; 4c ........... 37 %.;#P comment 22 452 377 1376266 With cheaper versions \, the reverberation tends to have a lower time density (echo density) \, which may be noticeable for percussive source sounds.;#P comment 78 420 311 1376266 ^ Percentage of the DSP capacity of an ISPW processor (I860) at a sample rate of 44100 Hz (control overhead not included).;#P comment 22 154 17 1376266 ->;#P comment 22 124 17 1376266 ->;#P comment 22 107 17 1376266 ->;#P comment 37 137 312 1376266 a = reverb only. b = early + reverb. c = early + cluster + reverb.;#P comment 126 297 91 1376266 8a+ ......... 32 % \; 8b+ ......... 52 % \; 8c+ ......... 73 % \; 6a+ ......... 23 % \; 6b+ ......... 42 % \; 6c+ ......... 57 % \; 4a+ ......... 16 % \; 4b+ ......... 29 % \; 4c+ ......... 42 %.;#P comment 230 297 91 1376266 8a- ............ 3 % \; 8b- .......... 18 % \; 8c- .......... 40 % \; 6a- ............ 3 % \; 6b- .......... 16 % \; 6c- .......... 34 % \; 4a- ............ 3 % \; 4b- .......... 15 % \; 4c- .......... 28 %.;#P comment 334 297 87 1376266 _a ............. 4 % \; _b ........... 13 % \; _c ........... 15 %.;#P comment 21 16 162 1376270 Room~ : DSP options;#P comment 37 154 390 1376266 Optional '+' or '-' signs \, allowing to share a common late reverb process between several Room~ modules (assuming sources located in the same virtual room). This method uses a hidden multichannel bus which can be optionally specified by the 2nd argument of Room~. Several '-' modules can send to a single '+' module.;#P comment 37 210 390 1376266 Another method for sharing the reverberation process between several sources: replacing the number by '_'. Room~ then sends a mono signal to feed a Reverb~ module (plus optionally a signal for a Cluster~ module) \, via a catch~ object. The catch~ name must be given in argument or by a control message 'reverb throw <name>' (or 'cluster throw <name>') sent to the Room~ module(s) to be connected to an existing catch~ object.;#P comment 22 44 360 1376266 Argument 1: version of the reverberation algorithm \; Argument 2: name of reverb send bus (optional -for some versions only) \; Argument 3: name of cluster send bus (optional -for some versions only).;#P pop;#P newobj 379 214 104 1376268 patcher options;#P newex 380 247 58 1376268 control1;#P comment 286 225 92 1376266 For general info on main modules \, alt-click here -->;#P newex 167 218 34 1376265 print;#P newex 167 197 34 1376265 gate;#P newex 294 275 190 1376265 declare uselib=1 path=../lib-ispw:../lib:../help;#P comment 160 277 114 1376265 < check signal levels;#N vpatcher 119 28 558 316;#P newex 195 171 97 1376268 dac~ 1 2 3 4;#P newex 214 141 24 1376265 +~;#P inlet 340 29 15 0;#P newex 340 52 48 1376265 sel 1 0;#P newex 185 141 24 1376265 +~;#P newex 340 121 43 1376265 sig~ 0.;#P message 359 103 24 1376265 0.;#P newex 243 141 24 1376265 *~;#P newex 272 141 24 1376265 *~;#P newex 147 160 30 1376265 +~;#P newex 147 160 30 1376265 +~;#P newex 147 160 30 1376265 +~;#P toggle 122 189 16 0;#P message 122 189 16 1376265 1.;#P comment 303 229 25 1376266 dB;#P flonum 185 228 30 9 0 0 0 21;#P flonum 214 228 30 9 0 0 0 21;#P flonum 243 228 30 9 0 0 0 21;#P flonum 272 228 30 9 0 0 0 21;#P toggle 122 227 15 0;#P flonum 147 228 30 9 0 0 0 21;#P newex 106 113 24 1376265 +~;#P newex 135 113 24 1376265 +~;#P inlet 106 55 15 0;#P inlet 135 55 15 0;#P inlet 272 55 15 0;#P inlet 243 55 15 0;#P inlet 214 55 15 0;#P comment 183 39 22 1376266 S1;#P comment 212 39 22 1376266 S2;#P comment 241 39 22 1376266 S3;#P comment 270 39 22 1376266 S4;#P comment 106 39 16 1376266 L;#P comment 135 39 16 1376266 R;#P comment 70 194 51 1376268 display output levels >;#P comment 122 189 16 1376266;#P newex 50 70 46 1376265 sig~ 0.7;#P comment 28 39 16 1376266 C;#P newex 28 93 32 1376265 *~;#P inlet 28 55 15 0;#P inlet 185 55 15 0;#P newex 214 113 24 1376265 *~;#P newex 185 113 24 1376265 *~;#P newex 288 93 48 1376265 sig~ 1.4;#P message 340 75 17 1376265 1.;#P message 359 75 23 1376265 1.4;#P newex 147 207 34 1376265 rms~;#P newex 185 207 34 1376265 rms~;#P newex 214 207 34 1376265 rms~;#P newex 243 207 34 1376265 rms~;#P newex 272 207 34 1376265 rms~;#P comment 139 242 196 1376268 .. sum ......1 ...... 2 ...... 3 ..... 4 .....;#P comment 186 11 113 1376266 later refl. and reverb.;#P comment 181 24 113 1376266 [..........surround.........];#P comment 105 11 57 1376266 early refl.;#P comment 102 24 57 1376266 [...sides...];#P comment 17 11 69 1376266 direct sound;#P comment 13 24 54 1376266 [.center.];#P comment 334 11 65 1376266 quad/stereo;#P comment 359 24 39 1376266 toggle;#P connect 57 0 56 0;#P connect 36 0 38 0;#P connect 35 0 37 0;#P connect 34 0 51 0;#P connect 33 0 52 0;#P connect 53 0 54 0;#P connect 32 0 18 0;#P connect 32 0 16 0;#P connect 46 0 13 1;#P connect 46 0 12 1;#P connect 46 0 11 1;#P connect 46 0 10 1;#P connect 46 0 9 1;#P connect 15 0 16 0;#P connect 15 0 54 0;#P connect 14 0 16 0;#P connect 20 0 21 0;#P connect 20 0 23 0;#P connect 19 0 17 0;#P connect 19 0 16 0;#P connect 40 0 47 0;#P connect 47 0 46 0;#P connect 47 0 13 1;#P connect 47 0 12 1;#P connect 47 0 11 1;#P connect 47 0 10 1;#P connect 47 0 9 1;#P connect 58 0 48 1;#P connect 58 0 11 0;#P connect 58 0 59 1;#P connect 56 0 15 0;#P connect 56 1 14 0;#P connect 56 1 53 0;#P connect 55 0 48 0;#P connect 55 0 12 0;#P connect 55 0 59 0;#P connect 54 0 52 1;#P connect 54 0 51 1;#P connect 52 0 50 1;#P connect 52 0 10 0;#P connect 52 0 59 2;#P connect 51 0 49 1;#P connect 51 0 9 0;#P connect 51 0 59 3;#P connect 50 0 49 0;#P connect 48 0 50 0;#P connect 38 0 55 1;#P connect 37 0 58 1;#P connect 23 0 21 1;#P connect 21 0 38 1;#P connect 21 0 37 1;#P connect 18 0 58 0;#P connect 17 0 55 0;#P connect 16 0 17 1;#P connect 16 0 18 1;#P connect 16 0 54 0;#P connect 13 0 39 0;#P connect 49 0 13 0;#P connect 12 0 44 0;#P connect 11 0 43 0;#P connect 10 0 42 0;#P connect 9 0 41 0;#P pop;#P newobj 17 275 136 1376266 patcher dacs & levels;#P comment 204 184 47 1376266 < check control syntax;#P comment 211 54 47 1376265 GUI -> updates;#P comment 142 53 47 1376266 preset >;#P toggle 257 54 15 0;#N vpatcher 288 386 644 589;#P inlet 25 23 15 0;#P message 260 137 67 1376265 DISPLAY \$1;#P outlet 25 153 15 0;#P message 25 46 213 1376266 bang \, room fl 177 \, room fh 5657 \, room 0.1 \, room Gl 0 \, room Gm 0 \, room Gh -12 \, direct fl 177 \, direct fh 5657 \, direct 0.1 \, early fl 177 \, early fh 5657 \, early 0.2 \, cluster fl 177 \, cluster fh 5657 \, cluster 0.1 \, reverb fl 177 \, reverb fh 5657 \, reverb 0.1 \, reverb tr0 2. \, reverb trl 0.8 \, reverb trh 0.6;#P inlet 260 95 15 0;#P message 260 38 18 1376266 1;#P newex 260 15 50 1376265 loadbang;#P outlet 260 60 15 0;#P comment 56 10 150 1376268 example Room~ preset;#P connect 8 0 5 0;#P connect 8 0 3 0;#P connect 7 0 6 0;#P connect 5 0 6 0;#P connect 3 0 1 0;#P connect 4 0 7 0;#P connect 2 0 3 0;#P pop;#P newobj 191 83 76 1376265 patcher preset;#P button 191 54 15 0;#P newex 17 179 136 1376268 Room~ 8b;#P newex 191 109 103 1376268 Room_ wxyz 8b;#P comment 23 163 40 1376266 direct;#P comment 77 161 36 1376266 room;#N vpatcher 111 702 305 774;#P newex 17 9 61 1376266 input~;#P outlet 17 35 15 0;#P outlet 68 35 15 0;#P comment 85 11 76 1376266 < double click;#P connect 3 0 2 0;#P connect 3 1 1 0;#P pop;#P newobj 17 107 57 1376268 patcher input;#P comment 312 46 177 1376266 Room~ receives two signals and outputs 7 signals. The left input signal feeds the direct sound. The middle inlet feeds the reverberator. The 3 leftmost output channels contain the direct sound (C) and the early reflections (L \, R) \, while the 4 remaining output channels (surround channels) contain the diffuse reverberation.;#P comment 199 131 109 1376265 args: symbol followed by first arg. of Room~;#P comment 15 35 176 1376265 See also Room2~ \, Reverb~ \, Spat~;#P connect 37 0 36 0;#P connect 36 0 37 0;#P connect 33 0 17 0;#P connect 24 0 14 7;#P connect 17 0 18 0;#P connect 8 0 9 0;#P connect 9 0 6 0;#P connect 9 1 10 0;#P connect 7 0 14 0;#P connect 7 1 14 1;#P connect 7 2 14 2;#P connect 7 3 14 3;#P connect 7 4 14 4;#P connect 7 5 14 5;#P connect 7 6 14 6;#P connect 10 0 9 1;#P connect 6 0 7 2;#P connect 6 0 17 1;#P connect 3 0 7 0;#P connect 3 0 7 1;#P pop;