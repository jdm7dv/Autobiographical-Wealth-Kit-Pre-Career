max v2;#N vpatcher 287 84 838 491;#P hidden newex 258 179 24 1441801 t b;#P message 388 21 100 1441804 opera_1;#P hidden newex 270 153 66 1441801 prepend set;#P hidden newex 286 179 59 1441801 delay 200;#P hidden newex 31 362 68 1441801 delay 100;#P hidden newex 31 162 70 1441801 t b symbol;#P comment 0 247 31 1376265 enable;#P hidden newex 16 297 25 1376265 gate;#P toggle 16 227 13 0;#N vpatcher 17 129 330 428;#P newex 103 41 50 196617 loadbang;#P user meter~ 105 163 118 240 100;#P user meter~ 86 163 99 240 100;#P user meter~ 49 163 62 240 100;#P user meter~ 68 163 81 240 100;#P newex 175 244 73 1441801 HRTF_load.pat;#P outlet 255 256 15 0;#P inlet 165 35 15 0;#P newex 165 59 100 1376270 Spat_OPer source 1;#P newex 165 103 94 1376265 Spat_ source1 1 8c 2b;#P user ezdac~ 8 29 52 62 738197514;#P newex 9 251 109 1376265 dac~ 5 6 7 8 9 10;#P newex 9 129 166 1376274 Spat~ 1 8c 6r 0;#P user meter~ 28 163 41 240 100;#P user meter~ 9 163 22 240 100;#P newex 9 68 50 1376265 input~;#P message 140 189 102 1376265 \; dsp driver sync internal;#P connect 1 0 4 0;#P connect 9 0 8 0;#P connect 16 0 8 0;#P connect 8 0 7 0;#P connect 8 1 10 0;#P connect 7 0 4 2;#P connect 4 0 2 0;#P connect 4 0 5 0;#P connect 4 1 3 0;#P connect 4 1 5 1;#P connect 4 2 5 2;#P connect 4 2 13 0;#P connect 4 3 5 3;#P connect 4 3 12 0;#P connect 4 4 5 4;#P connect 4 4 14 0;#P connect 4 5 5 5;#P connect 4 5 15 0;#P pop 1;#P newobj 175 355 108 1376274 p Spat_Play;#P hidden newex 304 271 44 1376265 loadbang;#P hidden newex 304 295 27 1376265 t b b;#P message 157 118 97 1376265 symbol auditorium_2;#P message 157 99 97 1376265 symbol auditorium_1;#P message 31 119 84 1376265 symbol concertB_2;#P message 31 99 84 1376265 symbol concertB_1;#P comment 63 247 97 1376265 clear all stored configs;#P comment 79 267 64 1376265 recall a config;#N vpatcher 161 70 821 517;#P message 10 83 269 1376265 fact pres 80 \, fact warm 23 \, fact bril 13 \, fact prer 63 \, fact revp 18 \, fact env 41 \, fact rev 64 \, fact heav 35 \, fact live 31 \, source axis 1. \, source axis Gl 30.191744 \, source axis Gm 0 \, source axis Gh -1.574309 \, source omni 1. \, source omni Gl 27.144526 \, source omni Gm 0 \, source omni Gh -22.068083 \, early delay count 8 \, cluster delay count 8 \, reverb delay count 8 \, early start 20. \, early end 40. \, cluster start 42.399998 \, cluster end 106. \, reverb start 94. \, reverb fdens 1.871723 \, cluster delay distr 0.6;#P newex 10 211 61 1376265 s toSpatPerc;#P comment 10 31 472 1376265 Using the Matlab library EDR-1.5 \, it is possible to analyse an impulse response of a room and to use it as a preset. The RI2Spat routine of the EDR-1.5 is used for that purpose. It output a Max patch of settings (perceptual factors \, source characterist. The configuration is then stored \, using a fact_mem object \, which itself uses a COLL object .;#P comment 320 103 160 1376265 Click on the box to get the corresponding Spat_Oper settings \, then use the STORE message box in the SPAT_Preset object;#P comment 284 127 31 1376265 <----;#P connect 4 0 3 0;#P pop;#P newobj 33 181 113 1376265 patcher CollectingPresets;#P message 162 226 59 1376265 set percconf;#P comment 369 326 140 1376265 Red circle : receptor location;#P comment 369 308 139 1376265 Green circle : source location;#P newex 175 321 59 1376265 r toSpatPerc;#P newex 31 337 133 1376265 fact_mem source1 percconf;#P message 162 244 28 1376265 read;#P message 162 264 27 1376265 write;#P message 31 227 35 1376265 STORE;#P message 31 266 39 1376265 RECALL;#P message 31 56 85 1376265 symbol concertA_1;#P message 31 76 85 1376265 symbol concertA_2;#P message 156 56 97 1376265 symbol opera_1;#P message 156 76 97 1376265 symbol opera_2;#P message 31 244 28 1376265 clear;#P user fpic 352 36 171 262 opera_1 0 0 0;#P hidden newex 270 132 76 1376265 route symbol;#P hidden newex 269 200 76 1376265 prepend pict;#P comment 138 24 167 1376274 ROOM PRESETS;#P comment 74 231 64 1376265 store a config;#P comment 225 227 113 1376265 set a name for a config file;#P comment 240 245 100 1376265 read the config file;#P comment 193 264 108 1376265 write the configs to a file;#P comment 30 138 220 1376274 DOING A ROOM PRESET;#P comment 31 201 233 1376274 MANIPULATING PRESETS;#P comment 311 355 155 1376265 Click to manipulate the Spat;#P comment 286 355 24 1376265 <--;#P comment 2 238 27 1376265 Store;#P comment 3 229 13 1376265 ->;#P hidden connect 45 0 11 0;#P hidden connect 38 0 39 0;#P hidden connect 46 0 43 0;#P hidden connect 34 0 41 0;#P hidden connect 33 0 41 0;#P hidden connect 32 0 41 0;#P hidden connect 31 0 41 0;#P hidden connect 27 0 23 0;#P hidden connect 22 0 23 0;#P hidden connect 21 0 23 0;#P hidden connect 20 0 39 1;#P hidden connect 19 0 23 0;#P hidden connect 18 0 41 0;#P hidden connect 17 0 41 0;#P hidden connect 16 0 41 0;#P hidden connect 15 0 41 0;#P hidden connect 14 0 39 1;#P hidden connect 37 0 23 1;#P hidden connect 36 0 35 0;#P hidden connect 35 1 27 0;#P hidden connect 35 0 22 0;#P hidden connect 24 0 23 1;#P hidden connect 24 0 37 0;#P hidden connect 23 0 37 0;#P hidden connect 12 0 44 0;#P hidden connect 11 0 13 0;#P hidden connect 39 0 23 0;#P hidden connect 41 1 23 0;#P hidden connect 41 0 42 0;#P hidden connect 41 1 12 0;#P hidden connect 42 0 19 0;#P hidden connect 43 0 45 0;#P hidden connect 44 0 46 0;#P hidden connect 44 0 45 0;#P pop;